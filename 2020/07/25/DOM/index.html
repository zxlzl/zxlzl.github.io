<!DOCTYPE html>

<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <link rel="shortcut icon" href="/favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
  <title>DOM [ Lemon Ray ]</title>
  
  <!-- stylesheets list from config.yml -->
  
  <link rel="stylesheet" href="/css/iLiKE.css">
  
  

  
  <!-- <script src="//cdn1.lncld.net/static/js/3.1.1/av-min.js"></script>
  <script id="leancloud">
    AV.init({
      appId: "6E5zTbTljdUbVW2WkXPsXGJk-gzGzoHsz",
      appKey: "0vsyDKfNpeSECAI70J794ugv"
    });
  </script> -->
  
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Lemon Ray" type="application/atom+xml">
</head>
<body>
    <div class="header">
        <div class="container">
    <div class="menu">
      <div class="menu-left">
        <a href="/">
          <img src="/favicon.svg"></img>
        </a>
      </div>
      <div class="menu-right">
        
          
          
          
          
          
          
          <a href="/">首页</a>
        
          
          
          
          
          
          
          <a href="/archives">归档</a>
        
      </div>
    </div>
</div>
    </div>
    <div class="container">
        <h1 class="post-title">DOM</h1>
<article class="post markdown-style">
  <h1 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h1><h2 id="javascript-的组成部分"><a href="#javascript-的组成部分" class="headerlink" title="javascript 的组成部分"></a>javascript 的组成部分</h2><ul>
<li>DOM (document object model) 文档对象模型</li>
<li>BOM (browers object model) 浏览器对象模型</li>
<li>ECMAScript js 的核心</li>
</ul>
<p><img src="/js/DOMltree.gif" alt="DOM树"></p>
<h2 id="DOM-节点"><a href="#DOM-节点" class="headerlink" title="DOM 节点"></a>DOM 节点</h2><ul>
<li>节点分类<ul>
<li>元素节点：每个 HTML元素    <ul>
<li>属性节点：HTML元素的属性</li>
</ul>
</li>
<li>文本节点：HTML元素内的文本    <ul>
<li>注释节点：注释 <!----></li>
</ul>
</li>
<li>文档节点：整个文档document        </li>
</ul>
</li>
<li>节点类型 — nodeType<ul>
<li>元素节点：1    <ul>
<li>属性节点：2</li>
</ul>
</li>
<li>文本节点：3    <ul>
<li>注释节点：8</li>
</ul>
</li>
<li>文档节点：9</li>
</ul>
</li>
<li>节点名称 — nodeName<ul>
<li>元素节点：与标签名相同    </li>
<li>文本节点：为#text    </li>
<li>注释节点：为#comment</li>
<li>文档节点：为#document    </li>
</ul>
</li>
</ul>
<h2 id="DOM关系"><a href="#DOM关系" class="headerlink" title="DOM关系"></a>DOM关系</h2><ul>
<li>childNodes 子节点</li>
<li>children 子元素 </li>
<li>firstChild 第0个子节点</li>
<li>firstElementChild 第0个子元素</li>
<li>lastChild 最后一个子节点</li>
<li>lastElementChild 最后一个子元素</li>
<li>nextSibling 下一个兄弟节点</li>
<li>nextElementSibling 下一个兄弟元素</li>
<li>previousSibling 上一个兄弟节点</li>
<li>previousElementSibling 上一个兄弟元素</li>
<li>parentNode 父节点</li>
<li>offsetParent 定位父级</li>
</ul>
<h2 id="DOM-属性操作"><a href="#DOM-属性操作" class="headerlink" title="DOM 属性操作"></a>DOM 属性操作</h2><p>注意 . 和 [] 都是 ECMAScript 中，对象的属性操作，对象属性的值会被存在内存中, 想要直接获取存在 文档中属性，或者 想把一个属性设置在文档中我们需要使用DOM 的属性操作</p>
<ul>
<li>el.attributes 元素所有属性的集合</li>
<li>el.getAttribute(“attr”) 获取属性</li>
<li>el.setAttribute(“attr”,”val”) 设置属性</li>
<li>el.removeAttribute(“attr”) 移出属性</li>
<li>el.hasAttribute(“attr”) 判断是否有这个属性</li>
<li>只要操作了innerHTML 元素的所有子元素上，存在内存中的事件和相关的属性都会丢失。如果希望元素的某些属性在操作了父级的innerHTML 之后，还存在就把这个属性加在 DOM 中</li>
</ul>
<h2 id="data-自定义属性"><a href="#data-自定义属性" class="headerlink" title="data 自定义属性"></a>data 自定义属性</h2><ul>
<li>在标签中定义data自定义属性：data-key=”value”;</li>
<li>在js操作该元素的 data 自定义属性：el.dataset<ul>
<li>获取：el.dataset.key</li>
<li>设置: el.dataset.key = “value”</li>
</ul>
</li>
</ul>
<h2 id="节点操作"><a href="#节点操作" class="headerlink" title="节点操作"></a>节点操作</h2><h3 id="创建节点"><a href="#创建节点" class="headerlink" title="创建节点"></a>创建节点</h3><p>语法：element document.createElement(“tagName”); 创建一个节点<br>参数：tagName 标签名称<br>返回值：创建好的节点</p>
<h3 id="向页面中添加节点"><a href="#向页面中添加节点" class="headerlink" title="向页面中添加节点"></a>向页面中添加节点</h3><ul>
<li>el.appendChild(node)  在元素的末尾添加一个子级</li>
<li>el.insertBefore(newNode,oldNode) 在 oldNode 前边添加入 newNode </li>
<li>在使用 appendChild 和 insertBefore时，如果添加是一个页面上已经存在的节点，会先从原位置删除，然后在添加到新的位置去。</li>
</ul>
<h3 id="删除节点"><a href="#删除节点" class="headerlink" title="删除节点"></a>删除节点</h3><ul>
<li>parent.removeChild(el) 删除掉某个子元素</li>
</ul>
<h3 id="克隆节点"><a href="#克隆节点" class="headerlink" title="克隆节点"></a>克隆节点</h3><ul>
<li>node.cloneNode(deep) <ul>
<li>deep: 默认为false</li>
<li>deep 为 true, 克隆元素及属性，以及元素的内容和后代</li>
<li>deep 为 false, 只克隆元素本身，及它的属性</li>
</ul>
</li>
</ul>
<h2 id="元素的尺寸获取"><a href="#元素的尺寸获取" class="headerlink" title="元素的尺寸获取"></a>元素的尺寸获取</h2><ul>
<li><p>offset</p>
<ul>
<li>offsetWidth  可视宽度</li>
<li>offsetHeight 可视高度 </li>
<li>offsetLeft   距离定位父级的left坐标 </li>
<li>offsetTop    距离定位父级的top坐标</li>
</ul>
</li>
<li><p>client</p>
<ul>
<li>clientWidth  可视宽度 - border</li>
<li>clientHeight 可视高度 - border</li>
<li>clientTop    上边框宽度</li>
<li>clientLeft   左边框宽度 </li>
</ul>
</li>
<li><p>scroll</p>
<ul>
<li>scrollWidth   内容宽度</li>
<li>scrollHeight  内容高度</li>
<li>scrollLeft    左右滚动距离</li>
<li>scrollTop     上下滚动距离</li>
</ul>
</li>
<li><p>getBoundingClientRect()</p>
<ul>
<li>left   元素左侧距离可视区左侧距离</li>
<li>top    元素顶部距离可视区顶部距离</li>
<li>right  元素右侧距离可视区左侧距离</li>
<li>bottom 元素底部距离可视区顶部距离</li>
<li>width  可视宽度 </li>
<li>height 可视高度</li>
</ul>
</li>
</ul>
<h2 id="表格相关操作"><a href="#表格相关操作" class="headerlink" title="表格相关操作"></a>表格相关操作</h2><ul>
<li>tBodies、tHead、tFoot、rows、cells</li>
</ul>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul>
<li>createDocumentFragment</li>
<li>NodeList 和 HTMLCollection </li>
</ul>

</article>

    <div class="pagenator post-pagenator">
    
    

    
    <p>上次更新 2020-08-10</p>
    
    
        <a class="extend next post-next" href="/2020/07/15/%E3%80%8AJust-JavaScript%E3%80%8B08-%E7%AA%81%E5%8F%98/">下一篇</a>
    
    </div>

    </div>
    <div class="footer">
        <div class="container">
    <!-- <div class="social">
	<ul class="social-list">
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
	</ul>
</div> -->
    <div class="copyright">
        <span>
            
            
            
                © zxl 2017 - 2020
            
        </span>
    </div>
    <!-- <div class="power">
        <span>
            Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> & <a href="https://github.com/CaiChenghan/iLiKE" target="_blank" rel="noopener">iLiKE Theme</a>
        </span>
    </div> -->
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
    <!--page counter part-->
<script>
    function addCount(Counter) {
        url = $('.article-date').attr('href').trim();
        title = $('.article-title').text().trim();
        var query = new AV.Query(Counter);
        //use url as unique idnetfication
        query.equalTo("url", url);
        query.find({
            success: function (results) {
                if (results.length > 0) {
                    var counter = results[0];
                    counter.fetchWhenSave(true); //get recent result
                    counter.increment("time");
                    counter.save();
                } else {
                    var newcounter = new Counter();
                    newcounter.set("title", title);
                    newcounter.set("url", url);
                    newcounter.set("time", 1);
                    newcounter.save(null, {
                        success: function (newcounter) {
                            //alert('New object created');
                        }, error: function (newcounter, error) {
                            alert('Failed to create');
                        }
                    })
                }
            },
            error: function (error) {
                //find null is not a error
                alert('Error:' + error.code + " " + error.message);
            }
        });
    }
    // $(function () {
    //     var Counter = AV.Object.extend("Counter");
    //     //only increse visit counting when intering a page
    //     if ($('.article-title').length == 1) {
    //         addCount(Counter);
    //     }
    //     var query = new AV.Query(Counter);
    //     query.descending("time");
    //     // the sum of popular posts
    //     query.limit(10);
    //     query.find({
    //         success: function (results) {
    //             for (var i = 0; i < results.length; i++) {
    //                 var counter = results[i];
    //                 title = counter.get("title");
    //                 url = counter.get("url");
    //                 time = counter.get("time");
    //                 // add to the popularlist widget
    //                 showcontent = title + " (" + time + ")";
    //                 //notice the "" in href
    //                 $('.popularlist').append('<li><a href="' + url + '">' + showcontent + '</a></li>');
    //             }
    //         },
    //         error: function (error) {
    //             alert("Error:" + error.code + " " + error.message);
    //         }
    //     });
    // });
</script>
</div>
    </div>
    <div class="backtop">
        <div class="arrow" id="arrow">
  <a href="#" class="icon">↑</a>
  <script>
    window.addEventListener("scroll", showBackTop, false);

    const gototop = _getbyId("arrow");
    // if (gototop) {
    //   gototop.className = "doc-gototop" + (mainTop <= 0 ? " doc-gototop-show" : "");
    // }
    function showBackTop() {
      const scrollheight = getheight()
      if (scrollheight > 100) {
        const arrow = _getbyId("arrow")
        arrow.classList.add("arrow-show");
      } else {
        arrow.classList.remove("arrow-show");
      }

    }

    function _getbyId(id) {
      return document.getElementById(id);
    }

    function getheight() {
      let scrollheight = document.body.scrollTop == 0 ? document.documentElement.scrollTop
        : document.body.scrollTop;
      return scrollheight;
    }
  </script>
</div>
    </div>
</body>
</html>
